{% load i18n %}

{% if sets %}
  <div class="col-lg-12">
    <div class="ibox float-e-margins">
      <div class="ibox-title">
        <h2>{% trans 'Sets' %}</h2>
        <div class="ibox-tools">
          <a class="collapse-link">
            <i class="fa fa-chevron-up"></i>
          </a>
        </div>
      </div>
      <div class="ibox-content">
        <div class="panel-body">
          <div class="panel-group" id="accordion">
            {% for set in sets %}
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h5 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-set-item-{{ forloop.counter0 }}"
                        {% if forloop.first %} aria-expanded="true"
                        {% else %} aria-expanded="false" class="collapsed"
                        {% endif %}
                    >{{ set.key|default:_("No key yet") }}</a>
                  </h5>
                </div>
                <div id="collapse-set-item-{{ forloop.counter0 }}"
                    {% if forloop.first %}  class="panel-collapse collapse in" aria-expanded="true"
                    {% else %} class="panel-collapse collapse" aria-expanded="false"
                    {% endif %}
                >
                  <div class="panel-body">
                    {{ set.members|join:', ' }}
                  </div>
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
{% endif %}